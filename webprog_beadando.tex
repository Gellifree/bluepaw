\documentclass[a4paper,12pt]{article}
\usepackage[T1]{fontenc}
\PassOptionsToPackage{defaults=hu-min}{magyar.ldf}
\usepackage[magyar]{babel}
\usepackage[a4paper]{geometry}
\geometry{margin=2cm}
\usepackage{graphicx}


\begin{document}
\title{\textsc{Webprogramozás III. Gy. \\ {\normalsize (LBT\_IM744G2)}} \\ {\normalsize Beadandó feladat dokumentáció}}
\author{Kovács Norbert \\ ANOXWJ}
\maketitle
\newpage
\tableofcontents
\newpage


\section{Weboldal koncepciója}
\subsection{Technikai részletek}
A beadandó feladatot, az órán is alkalmazott \textit{xampp} szerverrel kívánom megvalósítani, \textit{apache netbeans} fejlesztőkörnyezettel. A Mysql kezelését a videóban is használt, \textit{phpmyadmin} oldalon intézem. Nem fontos részlet, a megvalósítás szempontjából, de a Windows operációs rendszer, virtuális gépként fut.

\begin{center}
	\textit{{\footnotesize (Követelmény: A beadandó feladat PHP MVC kereterendszerben készül!)}}
\end{center}

\begin{itemize}
	\item OS: Windows 10 Pro (21H1)
	\item Kernel: 10.0.19041.1023
	\item Mysql: 10.4.19-MariaDB
	\item PHP: 8.0.6
	\item Apache Netbeans IDE: 12.3
	\item CodeIgniter: 3.1.11
\end{itemize}

\subsection{Elképzelés}
A weboldal egy \textit{fiktív} szervezet köré épül, aminek a feladata  az \textit{állategészségügy}, és \textit{állatvédelem}. A fiktív szervezetnek több városban lesznek épületei országszerte. Egy városban több különféle épület is tartozhat a szervezethez. Például tartozhat állatmenhely, állatorvosi rendelő, raktárépület stb. Ezeknek az épületeknek vannak hozzájuk tartozó egységeik. Egy menhely állatok tárolására alkalmas kennelekkel, egy rendelő vizsgálóval, váróval, egy raktár szobákkal, szektorokkal rendelkezik stb.

Hasonlóképpen az egyetemi példafeladathoz, ahol
\begin{center}
	Kampusz -> Épület -> Terem \\[0.5cm]
	Pl.: Eger -> C épület -> 124-es terem,
\end{center}
felosztás található, itt is három rétegre kívánom felosztani a problémát, mégpedig:
\begin{center}
	Telep -> Épület -> 'Szoba'\\[0.5cm]
	Pl.: Miskolc -> Iroda -> 1-es iroda\\
	vagy\\
	Eger -> Egri állatmenhely -> 3-as Kennel.
\end{center}

A weboldal célja, tehát hogy a szervezet irányítani tudja a különböző városaiban található épületcsoportokat, pénzmozgásokat, alkalmazottakat stb.
A fiktív szervezetet, az előző beadandóm állatotthonából fejlesztem tovább, részben idő spórolás céljából, részben a hasonló koncepcióból adódóan.
 Szervezet neve: \textbf{Kék mancs}.

Az \textit{elképzelés} szerint, a felhasználókat több rétegben kezeljük majd. A weboldal nem a nyilvánosság felé közvetített oldal, hanem belső rendszerért felelős. Ettől függetlenül szükség lesz, telepenként admin, és felhasználói felületre. 


\section{Adatbázis tervezése}

Szükségünk lesz, egy \textbf{épület} entitásra, egy '\textbf{szoba}' entitásra. Ennek a megnevezése, nem teljesen fedi le a pontos entitást, hiszen minden épületben ez mást reprezentál, azonban szükséges eltárolnunk, hogy melyik állat melyik kennelhez van rendelve, vagy hogy melyik alkalmazott melyik irodában dolgozik stb. Szükségünk lesz egy \textbf{állat} entitásra is, hogy eltároljuk a különféle állatokat, amik a szervezethez köthetőek. Tárolnunk kell az \textbf{alkalmazottakat} is, és az \textbf{örökbefogadók} személyeit. Amennyiben lesz elég idő a fejlesztés során, az alkalmazottak \textbf{képzettségi mátrixát} is szeretném tárolni, ami egy gyakorlatból átemelt problémára nyújt megoldást.

\begin{center}
	\textit{{\footnotesize (A megvalósítandó projekthez tartozó adatmodell legalább 5 forgalmi adattáblát tartalmaz (a külső modulok által használt táblákon kívül).)}}
\end{center}




\subsection{ER modell}
Az ER modell tervezése közben vegyük szemügyre nagyobb részletességgel az entitásokat. Az egyedi azonosító mezőket, nem tüntetjük fel a tervezés során, csak az ER modellben. A grafikus szemléltetésre a \textit{Draw.io} asztali alkalmazását használom.

\subsubsection*{Telep}
Egy \textbf{Telep} eltárolásához, elegendő a telep \textit{megnevezése}, ami gyakorlatilag csak a város neve lesz, és egy \textit{leírás} mező. Egy \textbf{Telephez} több \textbf{Épület} tartozhat majd, értelemszerűen egy \textbf{Épület}, csak egy \textbf{Telephez}.

\subsubsection*{Épület}

Az \textbf{Épület} entitás kapcsán, tárolnunk kell a \textit{megnevezését}, a \textit{telepet}, és a \textit{típusát}. Általánosságban kijelenthetjük, hogy egy \textbf{Telephez}, több azonos típusú épület is tartozhat (két iroda, két raktár).

\subsubsection*{Szoba}

Egy \textbf{szoba}, egy épület alegysége. Tárolnunk kell a \textit{kapacitását}. Attól függetlenül, hogy egy épület meghatározza, hogy milyen típusú szobákkal rendelkezik, ettől függetlenül, lehetőséget kell biztosítanunk a variációknak. Például egy Állatotthon is rendelkezhet kenneleken kívül váróval stb. Ezért tárolnunk kell a szoba \textit{típusát} is.

\subsubsection*{Állat}
Egy állat esetén, tárolnunk kell a \textit{nevét}, \textit{típusát}, \textit{születési évét}, \textit{nemét}, és hogy melyik ,,szobához'' tartozik. Itt a későbbiekben, valamilyen hibaellenőrzésre szükség lesz, hogy egy állatot, ne lehessen hozzárendelni, egy iroda szobához, vagy egy irodai alkalmazottat, egy kennelhez. Amennyiben tárolni akarjuk, az örökbefogadás eseményét, akkor egy \textit{tulajdonos} mezőt is fel kell vennünk.

\subsubsection*{Alkalmazott}
Az alkalmazottak esetén, tároljuk el az alkalmazott teljes \textit{nevét}, \textit{születési dátumát}, alkalmazotti \textit{jogviszonyát}, weboldalon használható \textit{felhasználónevét}, \textit{jelszavát}, és az \textit{épületet} amihez kirendelt. Az alkalmazott munkaköre, meghatározza majd a fizetést is, amit külön entitásként fogunk kezelni.

\subsubsection*{Jogviszony}
A Jogviszonynak tároljuk a \textit{megnevezését}, és a \textit{fizetés értékét}. Mivel, nem lehet, két ugyanolyan megnevezésű munkakör, külön fizetéssel, ezért nincs szükségünk, külön azonosítómezőre. 

\subsubsection*{Örökbefogadó}
Egy örökbefogadó személy kapcsán, el kell tárolnunk az \textit{nevét}, \textit{születési évét}, \textit{lakhelyét}, jelenleg birtokolt \textit{háziállatok számát},  és hogy \textit{javasolt-e örökbefogadásra}.

\begin{center}
	\includegraphics[width = 17cm]{"SQL_tervezés.png"} \\
	{\small Az ER modell}
\end{center}


\subsection{Relációs adatmodell}
\subsection{SQL parancsok}
\subsubsection{Táblák létrehozása}
\section{Összefoglaló}


\end{document}
